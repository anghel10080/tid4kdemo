$javascriptIncarcaMeniulSaptamanal = "\n\n<script>\n" .
    "function incarcaMeniulSaptamanal() {\n" .
    "    var xhr = new XMLHttpRequest();\n" .
    "    xhr.open('GET', '../pages/tabel_meniu_afisat.php', true);\n" .
    "    xhr.onload = function() {\n" .
    "        if (this.status == 200) {\n" .
    "            document.getElementById('chenar1Rand2').innerHTML = this.responseText;\n" .
    "            actualizeazaOre();\n" .
    "            initializeazaSalvareaLocala();\n" .
    "            actualizeazaAnteturileTabelului();\n" .
    "            adaugaEmoji();\n" .
    "        }\n" .
    "    };\n" .
    "    xhr.send();\n" .
    "}\n" .
    "document.addEventListener('DOMContentLoaded', incarcaMeniulSaptamanal);\n" .

    "// DefineÈ™te seturile de ore\n" .
    "var setOre1 = ['08:15', '10:00', '12:00', '15:15', '19:00'];\n" .
    "var setOre2 = ['09:00', '10:30', '12:30', '16:00'];\n" .

    "function actualizeazaOre(oraSelectata) {\n" .
    "    var setSelectat;\n" .

    "    if (['08:15', '10:00', '12:00', '15:15', '19:00'].includes(oraSelectata)) {\n" .
    "        setSelectat = setOre1;\n" .
    "    } else if (['09:00', '10:30', '12:30', '16:00'].includes(oraSelectata)) {\n" .
    "        setSelectat = setOre2;\n" .
    "    } else {\n" .
    "        return;\n" .
    "    }\n\n" .

    "    var campuriOra = document.querySelectorAll('textarea.oraInput');\n" .
    "    var meniuInputuri = document.querySelectorAll('table tr td:nth-child(n+2) textarea.inputText');\n\n" .

    "    setSelectat.forEach(function(ora, index) {\n" .
    "        if (campuriOra[index] !== undefined) {\n" .
    "            campuriOra[index].value = ora;\n" .
    "        }\n" .
    "    });\n\n" .

    "    var tabel = document.querySelector('table');\n" .
    "    while (tabel.rows.length - 1 > setSelectat.length) {\n" .
    "        tabel.deleteRow(-1);\n" .
    "    }\n" .
    "    var indexMeniu = 0;\n" .
    "    while (tabel.rows.length - 1 < setSelectat.length) {\n" .
    "        var randNou = tabel.insertRow(-1);\n" .
    "        for (var i = 0; i < 6; i++) {\n" .
    "            var celulaNoua = randNou.insertCell(i);\n" .
    "            if (i === 0) {\n" .
    "                celulaNoua.innerHTML = `<textarea class="inputText oraInput" oninput="actualizeazaOre(this.value)">${setSelectat[tabel.rows.length - 2]}</textarea>`;\n" .
    "            } else {\n" .
    "                var valoareMeniu = meniuInputuri.length > indexMeniu ? meniuInputuri[indexMeniu].value : '';\n" .
    "                celulaNoua.innerHTML = `<textarea class="inputText">${valoareMeniu}</textarea>`;\n" .
    "                indexMeniu++;\n" .
    "            }\n" .
    "        }\n" .
    "    }\n" .
    "}\n\n" .

// Cod pentru identificarea È™i afiÈ™area automatÄƒ a datei asociate zilei Ã®n antetul coloanelor din tabel
"function actualizeazaAnteturileTabelului() {\n" .
"    function adaugaZile(data, zile) {\n" .
"        var rezultat = new Date(data);\n" .
"        rezultat.setDate(rezultat.getDate() + zile);\n" .
"        return rezultat;\n" .
"    }\n\n" .
"    function obtinePrimaZiASaptamanii(data) {\n" .
"        var zi = data.getDay();\n" .
"        var diferenta = data.getDate() - zi + (zi === 0 ? -6 : 1);\n" .
"        return new Date(data.setDate(diferenta));\n" .
"    }\n\n" .
"    var dataCurenta = new Date();\n" .
"    var ziuaCurentaSaptamanii = dataCurenta.getDay();\n\n" .
"    ziuaCurentaSaptamanii = (ziuaCurentaSaptamanii === 0) ? 7 : ziuaCurentaSaptamanii;\n" .
"    var primaZi = obtinePrimaZiASaptamanii(dataCurenta);\n\n" .
"    for (var i = 1; i <= 5; i++) {\n" .
"        var dataZilei = adaugaZile(primaZi, i - 1);\n" .
"        var dataFormatata = dataZilei.toLocaleDateString('ro-RO', { day: '2-digit', month: 'long' });\n" .
"        var ziuaSaptamanii = ['Luni', 'MarÈ›i', 'Miercuri', 'Joi', 'Vineri'][i - 1];\n" .
"        var th = document.querySelector(`table tr th:nth-child(${i + 1})`);\n" .
"        th.textContent = `${ziuaSaptamanii} (${dataFormatata})`;\n" .
"        if (i === ziuaCurentaSaptamanii) {\n" .
"        var celule = document.querySelectorAll(`table tr td:nth-child(${i + 1}), table tr th:nth-child(${i + 1})`);\n" .
"        celule.forEach(function(celula) {\n" .
"        celula.style.backgroundColor = '#D3D3D3';\n" .
"        });\n" .
"        }\n" .
"    }\n\n" .
"}\n\n" .
"document.addEventListener('DOMContentLoaded', actualizeazaAnteturileTabelului);\n" .

"function adaugaEmoji() {\n" .
"    const cuvinteCheie = {\n" .
"    'almette': 'Almette ðŸ§ˆ(35gr) ',\n" .
"    'ananas': 'Ananas ðŸ(50gr)',\n" .
"    'banana': 'BananÄƒ ðŸŒ(1buc)',\n" .
"    'biscuiti': 'BiscuiÈ›i ðŸª',\n" .
"    'branza': 'brÃ¢nza ðŸ§€(35gr)',\n" .
"    'broccoli': 'broccoli ðŸ¥¦',\n" .
"    'burger': 'Burger ðŸ”(100gr)',\n" .
"    'capsuni': 'CÄƒpÈ™uni ðŸ“(50gr)',\n" .
"    'cartofi': 'cartofi ðŸ¥”(250gr)',\n" .
"    'cascaval': 'caÈ™caval ðŸ§€(35gr)',\n" .
"    'ceai': 'Ceai â˜•(300ml) ',\n" .
"    'ceapa': 'ceapÄƒ ðŸ§…',\n" .
"    'cereale': 'Cereale ðŸ¥£(250gr) ',\n" .
"    'chec': 'Chec ðŸ°(60gr)',\n" .
"    'ciocolata': 'CiocolatÄƒ ðŸ«',\n" .
"    'ciocolatÄƒ': 'CiocolatÄƒ ðŸ«',\n" .
"    'ciorba': 'CiorbÄƒ ðŸ²(250ml) ',\n" .
"    'ciorbÄƒ': 'CiorbÄƒ ðŸ²(250ml) ',\n" .
"    'cozonac': 'Cozonac ðŸž(60gr)',\n" .
"    'dulceata': 'dulceaÈ›Äƒ ðŸ¯(30gr)',\n" .
"    'dulceaÈ›Äƒ': 'dulceaÈ›Äƒ ðŸ¯(30gr)',\n" .
"    'fasole': 'Fasole ðŸ¥˜(250gr) ',\n" .
"    'gogosi': 'gogosi ðŸ©(60gr)',\n" .
"    'iaurt': 'Iaurt ðŸ¥›(60ml)',\n" .
"    'inghetata': 'ÃŽngheÈ›atÄƒ ðŸ¨',\n" .
"    'kiwi': 'Kiwi ðŸ¥',\n" .
"    'lamaie': 'lÄƒmÃ¢ie ðŸ‹',\n" .
"    'legume': 'legume ðŸ¥—(60gr)',\n" .
"    'mamaliga': 'MÄƒmÄƒligÄƒ ðŸ«“(250gr) ',\n" .
"    'mar': 'MÄƒr ðŸŽ(1buc)',\n" .
"    'mandarina': 'MandarinÄƒ ðŸŠ(1buc)',\n" .
"    'mazare': 'MazÄƒre ðŸŒ±(250gr)',\n" .
"    'morcovi': 'morcovi ðŸ¥•',\n" .
"    'omleta': 'OmletÄƒ ðŸ³(100gr) ',\n" .
"    'ou': 'ou ðŸ¥š',\n" .
"    'paine': 'pÃ¢ine ðŸž(30gr)',\n" .
"    'pasta': 'Paste ðŸ(250gr) ',\n" .
"    'paste': 'Paste ðŸ(250gr) ',\n" .
"    'pate': 'pate ðŸ§ˆ(35gr)',\n" .
"    'patrunjel': 'pÄƒtrunjel ðŸŒ¿',\n" .
"    'peste': 'peÈ™te ðŸŸ(85gr)',\n" .
"    'pizza': 'Pizza ðŸ•(60gr)',\n" .
"    'placinta': 'PlÄƒcintÄƒ ðŸ¥§(60gr)',\n" .
"    'portocala': 'Portocala ðŸŠ(1buc)',\n" .
"    'prajitura': 'PrÄƒjiturÄƒ ðŸ°(60gr)',\n" .
"    'pui': 'pui ðŸ—(85gr)',\n" .
"    'ridiche': 'ridiche ðŸ…',\n" .
"    'rosie': 'roÈ™ie ðŸ…',\n" .
"    'salata': 'salatÄƒ ðŸ¥—(60gr)',\n" .
"    'struguri': 'Struguri ðŸ‡(50gr)',\n" .
"    'suc': 'Suc ðŸ§ƒ(60ml)',\n" .
"    'supa': 'SupÄƒ ðŸœ(250ml)',\n" .
"    'sunca': 'È™uncÄƒ ðŸ–(35gr)',\n" .
"    'tartina': 'TartinÄƒ ðŸ¥ª(30gr) ',\n" .
"    'usturoi': 'usturoi ðŸ§„',\n" .
"    'unt': 'unt ðŸ§ˆ(15gr) ',\n" .
"    'varza': 'varzÄƒ ðŸ¥¬',\n" .
"    'tocanita': 'TocÄƒniÈ›Äƒ ðŸ¥˜(250gr) ',\n" .
"    'tocÄƒniÈ›Äƒ': 'TocÄƒniÈ›Äƒ ðŸ¥˜(250gr) ',\n" .
"    };\n\n" .

"document.querySelectorAll('textarea.inputText').forEach(function(textarea) {\n" .
"    textarea.addEventListener('input', function(e) {\n" .
"        if (e.inputType === 'deleteContentBackward' || textarea.value.slice(-1) === \\\" \\\") {\n" .
"            return;\n" .
"        }\n" .
"        let text = textarea.value;\n" .
"        Object.keys(cuvinteCheie).forEach(function(cuvant) {\n" .
"            const regex = new RegExp(cuvant + '(?!\\\\s*ðŸ¥£|\\\\s*ðŸ²|\\\\s*ðŸœ|\\\\s*ðŸ½ï¸|\\\\s*ðŸ¥˜|\\\\s*ðŸž|\\\\s*ðŸŽ|\\\\s*ðŸ°|\\\\s*ðŸ—|\\\\s*ðŸŸ|\\\\s*ðŸ¥—|\\\\s*ðŸ¥”|\\\\s*ðŸ•|\\\\s*ðŸ|\\\\s*ðŸ”|\\\\s*ðŸ§ƒ|\\\\s*ðŸ¥ª|\\\\s*ðŸ«“|\\\\s*ðŸ«|\\\\s*ðŸ–|\\\\s*ðŸ…|\\\\s*ðŸŒ|\\\\s*ðŸ|\\\\s*ðŸ§€|\\\\s*ðŸ¥•|\\\\s*ðŸ§…|\\\\s*ðŸ§„|\\\\s*ðŸŒ¿|\\\\s*ðŸµ|\\\\s*ðŸ“|\\\\s*ðŸ‹|\\\\s*ðŸŠ|\\\\s*ðŸ¥|\\\\s*ðŸ‡|\\\\s*ðŸ³|\\\\s*ðŸ¨|\\\\s*ðŸ¥›|\\\\s*ðŸª|\\\\s*ðŸ°|\\\\s*ðŸž|\\\\s*ðŸ¥§|\\\\s*ðŸ©|\\\\s*ðŸ–|\\\\s*ðŸ¯|\\\\s*ðŸ‘|\\\\s*â˜•|\\\\s*ðŸ¥—|\\\\s*ðŸ¥š|\\\\s*ðŸ¥¬|\\\\s*ðŸ¥¦|\\\\s*ðŸ§ˆ|\\\\s*ðŸŒ±)', 'gi');\n" .
"            text = text.replace(regex, cuvinteCheie[cuvant]);\n" .
"        });\n" .
"        textarea.value = text;\n" .
"    });\n" .
"});\n\n" .
"}\n\n" .

// ApelÄƒm funcÈ›ia la Ã®ncÄƒrcarea paginii pentru a activa listener-ul
"document.addEventListener('DOMContentLoaded', adaugaEmoji);\n" .

    // Salvarea localÄƒ a datelor modificate Ã®n cÃ¢mpurile de input
    "function initializeazaSalvareaLocala() {\n" .
    "//culori diferite pentru zilele saptamanii\n" .
    "const zile = ['Luni', 'MarÈ›i', 'Miercuri', 'Joi', 'Vineri'];\n" .
    "const culori = ['#FF00FF', '#32CD32', '#FFA500', '#1E90FF', '#FF69B4']; // Magenta, Verde, Portocaliu, Albastru, Roz\n" .

    "const thElements = document.querySelectorAll('table tr th');\n" .
    "thElements.forEach(function(th, index) {\n" .
    "if (index > 0 && index <= zile.length) { // IgnorÄƒ prima celulÄƒ ('Ora') È™i se aplicÄƒ doar pentru zilele sÄƒptÄƒmÃ¢nii\n" .
    "th.style.color = culori[index - 1];\n" .
    "}\n" .
    "});\n" .

    // ÃŽncÄƒrcarea datelor salvate
    "    document.querySelectorAll('textarea.inputText').forEach(function(textarea, index) {\n" .
    "        var salvat = localStorage.getItem('input_' + index);\n" .
    "        if (salvat !== null) {\n" .
    "            textarea.value = salvat;\n" .
    "        }\n" .
    "        textarea.addEventListener('input', function() {\n" .
    "            localStorage.setItem('input_' + index, textarea.value);\n" .
    "        });\n" .
    "    });\n\n" .

// ajustarea inaltimii celulei de tabel in functie de continut
"   var textAreas = document.querySelectorAll('textarea.inputText');\n" .

"   function adjustHeight(textArea) {\n" .
"   textArea.style.height = 'auto';\n" .
"   textArea.style.height = textArea.scrollHeight + 'px';\n" .
"   }\n\n" .

"   textAreas.forEach(function(textArea) {\n" .
"   adjustHeight(textArea);\n" .
"   textArea.addEventListener('input', function() {\n" .
"   adjustHeight(textArea);\n" .
"   });\n" .
"   });\n\n" .
"}\n\n" .

    "document.addEventListener('DOMContentLoaded', function() {\n" .
    "    actualizeazaOre();\n" . // IniÈ›ializeazÄƒ evenimentele legate de ore la Ã®ncÄƒrcarea paginii.
    "    initializeazaSalvareaLocala();\n" . // IniÈ›ializeazÄƒ salvarea localÄƒ la Ã®ncÄƒrcarea paginii.
    "});\n" .
    "</script>\n";
